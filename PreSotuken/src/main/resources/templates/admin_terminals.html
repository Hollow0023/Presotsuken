<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/common-head :: common-head('端末管理', ${'admin-terminals.css'})">
</head>
<body>
    <!-- バーガーメニューボタン -->
    <div th:replace="~{fragments/burger-menu :: burger-button}"></div>
    
    <!-- バーガーメニュードロワー -->
    <div th:replace="~{fragments/burger-menu :: burger-drawer}"></div>
    
    <h1>端末管理</h1>
    <a href="/">← トップに戻る</a>
    <div class="form-section">
        <h2>新しい端末を追加</h2>
        <form id="addTerminalForm">
            <div>
                <label for="seatSelect">座席ID:</label>
                <select id="seatSelect">
                    <option value="">座席を選択してください</option>
                </select>
            </div>
            <div>
                <label for="ipAddressBase">IPアドレス:</label>
                <input type="text" id="ipAddressBase" placeholder="例: 192.168.1.1" required>
            </div>
            <div class="checkbox-container">
                <input type="checkbox" id="isAdminCheckbox" name="isAdmin">
                <label for="isAdminCheckbox">管理者端末として登録する</label>
            </div>
            <button type="submit">端末追加</button>
        </form>
    </div>

    <div class="form-section">
        <h2>既存端末リスト</h2>
        <table id="terminalListTable">
            <thead>
                <tr>
                    <th>端末ID</th>
                    <th>座席名</th>
                    <th>IP アドレス</th>
                    <th>管理者</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                </tbody>
        </table>
    </div>

    <div id="editTerminalModal" class="modal">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>端末を編集</h2>
            <form id="editTerminalForm">
                <input type="hidden" id="editTerminalId">
                <div>
                    <label for="editSeatSelect">座席ID:</label>
                    <select id="editSeatSelect">
                        <option value="">座席を選択してください</option>
                    </select>
                </div>
                <div>
                    <label for="editIpAddressBase">IPアドレス:</label>
                    <input type="text" id="editIpAddressBase" placeholder="例: 192.168.1.1" required>
                </div>
                <div class="checkbox-container">
                    <input type="checkbox" id="editIsAdminCheckbox" name="isAdmin">
                    <label for="editIsAdminCheckbox">管理者端末として登録する</label>
                </div>
                <button type="submit">更新</button>
            </form>
        </div>
    </div>

    <div id="toast"></div>

    <!-- Load external JS for admin terminals -->
    <script th:src="@{/js/admin_terminals.js}"></script>
    
    <!-- バーガーメニューのJavaScript -->
    <div th:replace="~{fragments/burger-menu :: burger-menu-js}"></div>
</body>
</html>